<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no, email=no">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="true">
    <meta name="MobileOptimized" content="320">
    <meta name="screen-orientation" content="portrait">
    <meta name="x5-orientation" content="portrait">
    <meta name="full-screen" content="yes">
    <meta name="x5-fullscreen" content="true">
    <meta name="browsermode" content="application">
    <meta name="x5-page-mode" content="app">
    <meta name="msapplication-tap-highlight" content="no">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Cache-Control" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta http-equiv="description" content="">
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        body {
            background: #f4f5f9;
        }

        .header {
            width: 100%;
            height: 44px;
            background: white;
            border-bottom: 1px solid #e7e7e7;
        }

        .header p {
            text-align: center;
            padding-top: 10px;
            color: #333;
        }

        .header img {
            width: 10px;
            position: absolute;
            top: 11px;
            left: 11px;
        }

        .userInfo {
            width: 100%;
            height: 184px;
            background: white;
        }

        .userInfo .account {
            margin: 0px 15px;
            height: 91px;
            border-bottom: 1px solid #eee;
            position: relative;
        }

        .userInfo .account > span {
            display: inline-block;
            width: 50px;
            height: 50px;
            background: #ccc;
            margin-top: 20px;
            border-radius: 50%;
        }

        .userInfo .account > span > img {
            width: 100%;
            border-radius: 50%;
        }

        .userInfo .account > div {
            position: absolute;
            left: 65px;
            top: 23px;
        }

        .userInfo .account > div > p {
            font-family: 'PingFangSC-Regular';
            font-size: 16px;
            color: #333333;
            letter-spacing: -0.39px;
        }

        .userInfo .account > div span {
            font-family: 'PingFangSC-Regula';
            font-size: 14px;
            color: #999999;
            letter-spacing: -0.34px;
            line-height: 30px;
        }

        .userInfo .money {
            margin: 0px 15px;
            height: 91px;
        }

        .userInfo .money p {
            font-size: 24px;
            color: #333;
            font-family: 'PingFangSC-Regular';
            letter-spacing: -0.58px;
            margin-top: 16px;
        }

        .userInfo .money > span {
            font-family: 'PingFangSC-Regular';
            font-size: 12px;
            color: #999999;
            letter-spacing: -0.29px;
            margin-top: 5px;
            margin-left: 5px;
        }

        .ctrl_btn {
            margin-top: 30px;
        }

        .ctrl_btn .btn {
            background: #FFE300;
            color: #333;
            width: 90%;
            height: 46px;
            line-height: 46px;
            margin-left: 5%;
            border: none;
            border-radius: 8px;
            font-size: 16px;
        }
    </style>
    <script type="text/javascript" src="<%=basePath%>/js/jquery.js"></script>
    <script>
        (function () {
            $.extend($.fn, {
                mask: function (msg, maskDivClass) {
                    this.unmask();
                    // 参数
                    var op = {
                        opacity: 0.3,
                        z: 10000,
                        bgcolor: 'transparent'
                    };
                    var original = $(document.body);
                    var position = {top: 0, left: 0};
                    if (this[0] && this[0] !== window.document) {
                        original = this;
                        position = original.position();
                    }
                    // 创建一个 Mask 层，追加到对象中
                    var maskDiv = $('<div class="mask">&nbsp;</div>');
                    maskDiv.appendTo(original);
                    var maskWidth = original.outerWidth();
                    if (!maskWidth) {
                        maskWidth = original.width();
                    }
                    var maskHeight = original.outerHeight();
                    if (!maskHeight) {
                        maskHeight = original.height();
                    }
                    maskDiv.css({
                        position: 'absolute',
                        top: position.top,
                        left: position.left,
                        'z-index': op.z,
                        width: maskWidth,
                        height: maskHeight,
                        'background-color': op.bgcolor,
                        opacity: 1
                    });
                    if (maskDivClass) {
                        maskDiv.addClass(maskDivClass);
                    }
                    if (msg) {
                        var msgDiv = $('<div class="mask_msg" style="position:absolute;padding:5px 2px;background:black;color:white;border-radius:5px;z-index:10001;"><div style="line-height:24px;padding:2px 10px 2px 20px;">' + msg + '</div><p style="display:flex;"></p></div>');

                        msgDiv.appendTo('body');
                        var widthspace = (maskDiv.width() - msgDiv.width());
                        var heightspace = (maskDiv.height() - msgDiv.height());
                        msgDiv.css({
                            cursor: 'pointer',
                            top: (heightspace / 2 - 2),
                            left: (widthspace / 2 - 2)
                        });
                    }
                    maskDiv.fadeIn('fast', function () {
                        // 淡入淡出效果
                        $(this).fadeTo('slow', op.opacity);
                    })
                    return maskDiv;
                },
                unmask: function () {
                    var original = $(document.body);
                    if (this[0] && this[0] !== window.document) {
                        original = $(this[0]);
                    }
                    original.find("> div.mask").fadeOut('slow', 0, function () {
                        $(this).remove();
                    });
                    $('.mask_msg').fadeOut('slow', 0, function () {
                        $(this).remove();
                    })
                }
            });
        })();

        $(document).ready(function () {
            $('.step_two').hide();
            $.get("/api/shop/getShop", {id: 0}, function (data, status) {
                if (data.errorCode != 0) {
                    $(document).mask(data.errorMsg);
                    return;
                }
                res = data.result;
                $('.account_img').attr('src', res.shopIcon);
                $('.account_name').html(res.name);
                $('.account_id').html(res.userId);
            });
            $.get('/api/withdrawCash/remain', function (response) {
                if (response.errorCode != 0) {
                    $(document).mask(response.errorMsg);
                    return;
                }
                res = response.result;
                $('.money_cash').html(res.wechat);
            });
            $('.ctrl_btn .btn').click(function () {
                $('.step_one').hide()
            });
        });
    </script>
    <title>小店提现</title>
</head>
<body>
<div class="container">
    <div class="header">
        <i><img src="https://h5.tudouni.doubozhibo.com/tudouni/img/icon_navbar_back_black@2x.png" alt=""></i>
        <p>小店提现</p>
    </div>
    <div class="step_one">
        <div class="userInfo">
            <div class="account">
                <span><img src="" alt="" class="account_img"></span>
                <div>
                    <p class="account_name"></p>
                    <span class="account_id"></span>
                </div>
            </div>
            <div class="money">
                <p>￥<span class="money_cash"></span></p>
                <span>当前账户余额</span>
            </div>
        </div>
        <div class="ctrl_btn">
            <button class="btn">提现</button>
        </div>
    </div>
    <div class="step_two">
        <div class="cashout_num">
            <p><span></span>16680</p>
            <p><input type="text" placeholder="可提现金额100.00元">
                <button>全部提现</button>
            </p>
        </div>
    </div>
</div>
</body>
</html>